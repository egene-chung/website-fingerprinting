# Website Fingerprinting

<p align="center">
  <a href="#setup">Setup</a> â€¢
  <a href="#folder-structure">Folder Structure</a> â€¢
  <a href="#problem-statement">Problem Statement</a> â€¢
  <a href="#experiments">Experiments</a> â€¢
  <a href="#performance">Performance</a> â€¢
  <a href="#insights">Insights</a>
</p>

## <a id="setup">1. Set Up</a>

### â˜‘ï¸ Check if Conda is Installed

Before proceeding, verify whether **Conda** is already installed on your system.

1. **Open a terminal or command prompt**:

   - On **Windows**, use Command Prompt or Anaconda Prompt.
   - On **macOS/Linux**, open your terminal.

2. **Run the following command**:

   ```
   conda --version
   ```

   - If Conda is installed, you will see the version number(e.g., conda 24.1.2 for my system).
   - If Conda is not installed, proceed to install [Anaconda or miniconda](https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html)

3. **Then you are good to go!**

### â˜‘ï¸ Clone this Repository

To clone an existing repository: [FOLLOW STEPS 1-3](https://egene-chung.notion.site/Github-Repo-Clone-1204762b20cc800eb7ebfc06f639e3c1?pvs=4)

```bash
# Clone this repository
$ git clone https://github.com/egene-chung/website-fingerprinting.git

# Go into the repository
$ cd website-fingerprinting

# Create conda environment
$ conda create --name w-fp --file requirements.txt

# Activate conda environment
$ conda activate w-fp

# Run the model
$ cd src
$ python main.py
```

> Due to size constraints, the datasets have not been included in the pkl folder.
> You can, however, utilize the preprocessed CSV files generated by preprocess.py.
> If you prefer to create the CSV files yourself, please follow the folder structure outlined below:

- Upload mon_standard.pkl and unmon_standard10.pkl from the provided dataset into the data/pkl folder.
- Then, simply execute main.py! The script will automatically verify the existence of the required files and proceed accordingly.

## <a id="folder-structure">Folder Structure</a>

```text

â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ data/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ csv/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‰ closedworld_data.csv
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‰ openworld_binary_data.csv
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‰ openworld_multi_data.csv
â”‚   â”‚   â”œâ”€â”€ ğŸ“ pkl/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‰ mon_statndard.pkl
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‰ unmon_standard10.pkl
â”‚   â”‚   â””â”€â”€ ğŸ“„ preprocess.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ experiments/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ feature_selection/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ cw_multi_backward.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ cw_multi_forward.py   âœ…
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ow_binary_backward.py âœ…
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ow_binary_forward.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ow_multi_backward.py  âœ…
â”‚   â”‚   â””â”€â”€ ğŸ“„ ow_multi_forward.py
â”‚   â”œâ”€â”€ ğŸ“ main_experiments/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ cw_random_forest.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“‰ cw_random_forest_results.csv
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ow_binary_random_forest.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“‰ ow_binary_random_forest_results.csv
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ow_multi_random_forest.py
â”‚   â”‚   â””â”€â”€ ğŸ“‰ ow_multi_random_forest_results.csv
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ main_results/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ow_binary_precision_recall_curve.png
â”‚   â”‚   â”œâ”€â”€ ğŸ“‰ ow_binary_roc_curve.png
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ results.log
â”‚   â”‚   â””â”€â”€ ğŸ“‰ sampling_results.log
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ main.py
â”‚   â”œâ”€â”€ ğŸ“„ sampling.py
â”‚   â””â”€â”€ ğŸ“„ evaluate.py
â”‚
â”œâ”€â”€ ğŸ“„ .gitignore
â”œâ”€â”€ ğŸ“„ README.md
â””â”€â”€ ğŸ“„ .requirements.txt
```

## <a id="experiments">Experimental Settings and Process Overview</a>

### 1. Iterative Hyperparameter Tuning with Stratified K-Fold

- Conduct hyperparameter tuning to maximize accuracy across folds:
  - Navigate to the `main_experiments/` folder.
  - Run all Python scripts in the folder.
  - Final results will be saved as `.txt` files in the same directory.
  - Identify the best parameters with the highest mean fold accuracy.

### 2. Feature Selection Using Forward Selection and Backward Elimination

- Select features to improve model performance:
  - Navigate to the `feature_selection/` folder.
  - Run all Python scripts in the folder.
  - Final results will be saved as `.txt` files in the same directory.
  - Use the parameters corresponding to the highest accuracy.

### 3. Applying Sampling Techniques in an Open-World Scenario

- Evaluate sampling methods to handle data imbalance:
  - Run the script `sampling.py` to apply sampling techniques.
  - Results previously saved can be found in `/main_results/sampling_results.log`

---

### Example Command Usage

```bash
# Run the model with best parameters and compare pre- and post-feature selection results.
# Previous results are stored in /main_results/results.log
$ python main.py

# Apply sampling techniques without feature selection
# Previous results are stored in /main_results/sampling_results.log
$ python sampling.py

```

### Hyperparameter tuned model with, without Feature Selection

<img width="803" alt="image" src="https://github.com/user-attachments/assets/ba61fc51-3fcf-4f3d-b40e-99514881440d">

### Sampling applied without Feature Selection

<img width="805" alt="image" src="https://github.com/user-attachments/assets/defc9cd8-a9bc-45c6-8d38-47949c35b7d6">

<!-- ## <a id="problem-statement">3. Problem Statement</a>

## <a id="experimental-settings">4. Experimental Settings</a>

## <a id="model-selection">5. Model + Hyperparameter selection</a>

## <a id="experiments">6. Experiments</a>

## <a id="results">7. Results</a>

## <a id="performance">8. Performance</a>

## <a id="insights">9. Insights</a> -->

> If you encounter any issues starting the code, please contact (egenechung@gmail.com).
